<!doctype html>
<html lang="zh-Hant">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ‚ ç”Ÿæ—¥æœˆæ›† 2025</title>
<style>
/* èƒŒæ™¯èˆ‡å­—é«”è¨­å®š */
body{
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "Helvetica Neue", "Noto Sans TC", sans-serif;
  background:linear-gradient(to bottom right, #b30000, #ff6666);
  color:#fff;
  text-align:center;
  padding:1.5em 0;
  overflow-x:hidden;
}

/* é£„é›ªæ•ˆæœ */
.snowflake {
  position: fixed;
  top: -10px;
  color: #fff;
  font-size: 1em;
  opacity: 0.8;
  animation: fall linear infinite;
  pointer-events: none;
}
@keyframes fall {
  0% { transform: translateY(0) rotate(0deg); }
  100% { transform: translateY(100vh) rotate(360deg); }
}

h1{
  font-size:1.8em;
  font-weight:700;
  margin-bottom:0.5em;
  text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
}

/* æœˆæ›†å®¹å™¨ */
.grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:6px;
  width:90vw;
  max-width:480px;
  background:rgba(255,255,255,0.15);
  padding:10px;
  border-radius:16px;
  backdrop-filter:blur(6px);
  box-shadow:0 4px 20px rgba(0,0,0,0.3);
  margin:auto;
  animation:fadeUp .8s ease;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:none}}

.weekday{
  font-size:0.8em;
  color:#ffeaea;
  font-weight:600;
}

.day{
  aspect-ratio:1/1;
  background:rgba(255,255,255,0.9);
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#b30000;
  font-weight:600;
  cursor:pointer;
  transition:transform 0.15s ease, background 0.15s ease;
}
.day:hover{
  transform:scale(1.05);
  background:#fff0f0;
}

/* é€±æœ«å­—é«”ç´…ä¸€é» */
.weekend{
  color:#ff3333;
}

/* å½ˆçª—æ¨£å¼ */
#modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.5);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}
.modal-box{
  background:#fff;
  color:#222;
  border-radius:16px;
  padding:24px;
  max-width:80%;
  text-align:center;
  box-shadow:0 6px 20px rgba(0,0,0,0.4);
  animation:fadeUp .3s ease;
}
.modal-box h2{margin-top:0;color:#b30000;}
.modal-box p{margin:0.5em 0 1.2em;}
button{
  background:#b30000;
  color:#fff;
  border:0;
  padding:8px 18px;
  border-radius:8px;
  font-size:0.9em;
  font-weight:600;
}
button:active{background:#800000;}

.deny{
  margin-top:5em;
  color:#fff;
  font-size:1em;
  text-align:center;
}
</style>

<body>
<h1>ğŸ‚ ç”Ÿæ—¥æœˆæ›† (2025/12)</h1>
<div id="calendarContainer"></div>

<!-- å½ˆçª— -->
<div id="modal">
  <div class="modal-box">
    <h2 id="mTitle"></h2>
    <p id="mText"></p>
    <button onclick="closeModal()">é—œé–‰</button>
  </div>
</div>

<script>
// ===== é£„é›ªæ•ˆæœ =====
const snowCount = 25;
for (let i = 0; i < snowCount; i++) {
  const snow = document.createElement('div');
  snow.className = 'snowflake';
  snow.textContent = 'â„ï¸';
  snow.style.left = Math.random() * 100 + 'vw';
  snow.style.animationDuration = 5 + Math.random() * 5 + 's';
  snow.style.fontSize = 10 + Math.random() * 14 + 'px';
  snow.style.opacity = 0.5 + Math.random() * 0.5;
  document.body.appendChild(snow);
}

// ===== ä¸»ç¨‹å¼ =====
const SECRET='20251221'; // è¨­å®šå°ˆå±¬ token
const gifts={
  1:'ğŸ‰ ä»Šå¤©é–‹å§‹ç”Ÿæ—¥æœˆï¼',
  5:'ğŸ° æƒ³æƒ³ä»Šå¹´æƒ³è¨±çš„é¡˜æœ›å§ï¼',
  12:'ğŸ å°é©šå–œï¼šå¯«ä¸‹3ä»¶è®“ä½ é–‹å¿ƒçš„äº‹',
  20:'ğŸˆ è·é›¢ç”Ÿæ—¥è¶Šä¾†è¶Šè¿‘å›‰ï½',
  25:'ğŸ‚ ç”Ÿæ—¥å¿«æ¨‚ï¼ç¥ä½ å¹¸ç¦æ»¿æ»¿ â¤ï¸'
};

const token=new URL(location.href).searchParams.get('token');
if(token!==SECRET){
  document.body.innerHTML='<div class="deny">âŒ æ²’æœ‰æ­£ç¢º tokenï¼Œç„¡æ³•ç€è¦½æ­¤æœˆæ›†ã€‚</div>';
}else{
  buildCalendar();
}

function buildCalendar(){
  const container=document.getElementById('calendarContainer');
  const grid=document.createElement('div');
  grid.className='grid';
  container.appendChild(grid);

  const weekdays=['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­'];
  weekdays.forEach((w,i)=>{
    const wd=document.createElement('div');
    wd.className='weekday'+(i===0||i===6?' weekend':'');
    wd.textContent=w;
    grid.appendChild(wd);
  });

  const y=2025,m=11;
  const first=new Date(y,m,1);
  const days=new Date(y,m+1,0).getDate();
  const start=first.getDay();

  for(let i=0;i<start;i++){
    const e=document.createElement('div');
    grid.appendChild(e);
  }

  for(let d=1;d<=days;d++){
    const cell=document.createElement('div');
    const date=new Date(y,m,d);
    const isWeekend=date.getDay()===0||date.getDay()===6;
    cell.className='day'+(isWeekend?' weekend':'');
    cell.textContent=d;
    cell.onclick=()=>openGift(d);
    grid.appendChild(cell);
  }
}

function openGift(d){
  document.getElementById('mTitle').textContent=`12/${d} ç¦®ç‰©`;
  document.getElementById('mText').textContent=gifts[d]||'é€™å¤©é‚„æ²’æœ‰ç‰¹åˆ¥çš„æ´»å‹• ğŸ„';
  document.getElementById('modal').style.display='flex';
}
function closeModal(){
  document.getElementById('modal').style.display='none';
}
</script>
</body>
</html>
