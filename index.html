<!doctype html>
<html lang="zh-Hant">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ„ ç”Ÿæ—¥æœˆæ›† 2025</title>
<style>
body{
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "Helvetica Neue", "Noto Sans TC", sans-serif;
  background:#f8f8f9;
  color:#222;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:2em 1em;
  animation:fadeIn 1s ease forwards;
  opacity:0;
}
@keyframes fadeIn{to{opacity:1}}
h1{
  margin:0 0 0.5em 0;
  font-size:1.6em;
  font-weight:600;
}
.grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
  width:100%;
  max-width:520px;
  background:#fff;
  padding:10px;
  border-radius:16px;
  box-shadow:0 2px 10px rgba(0,0,0,0.08);
  transition:transform .2s ease;
  opacity:0;
  animation:fadeUp .8s ease .2s forwards;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.weekday{
  text-align:center;
  font-weight:500;
  color:#888;
  font-size:0.8em;
  padding-bottom:6px;
}
.weekend{
  color:#d33;
}
.day{
  width:100%;
  aspect-ratio:1/1;
  background:#fff;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:500;
  font-size:1em;
  color:#111;
  cursor:pointer;
  transition:all .15s ease;
  border:1px solid #e8e8e8;
}
.day:hover{
  background:#007aff;
  color:#fff;
  transform:scale(1.05);
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
#modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.modal-box{
  background:#fff;
  border-radius:16px;
  padding:24px;
  box-shadow:0 8px 30px rgba(0,0,0,0.2);
  width:calc(100% - 40px);
  max-width:360px;
  text-align:center;
  animation:fadeUp .3s ease;
}
.modal-box h2{
  margin:0 0 .5em;
  font-size:1.2em;
}
.modal-box p{
  color:#333;
  margin-bottom:1.2em;
  line-height:1.4em;
}
button{
  background:#007aff;
  color:#fff;
  border:0;
  padding:8px 18px;
  border-radius:8px;
  font-weight:500;
  font-size:0.9em;
}
button:active{
  background:#005bb5;
}
.deny{
  margin-top:4em;
  color:#666;
  font-size:1em;
  text-align:center;
}
</style>

<body>
<h1>ğŸ… ç”Ÿæ—¥æœˆæ›† 2025 / 12</h1>
<div id="calendarContainer"></div>

<div id="modal">
  <div class="modal-box">
    <h2 id="mTitle"></h2>
    <p id="mText"></p>
    <button onclick="closeModal()">é—œé–‰</button>
  </div>
</div>

<script>
const SECRET='20251221'; // ä¸Šç·šå‰è«‹æ”¹
const gifts={
  1:'12/1 çš„ç¦®ç‰©ï¼šä»Šå¤©ç¬‘ä¸€å€‹ ğŸ˜Š',
  2:'12/2 çš„ç¦®ç‰©ï¼šå–æ¯ç†±å¯å¯ â˜•ï¸',
  3:'12/3 çš„ç¦®ç‰©ï¼šç¨±è®šè‡ªå·±ä¸€æ¬¡ ğŸŒŸ',
  4:'12/4 çš„ç¦®ç‰©ï¼šæ”¾é¬†ä¸€ä¸‹ ğŸ§',
  21:'ğŸ‚ ç”Ÿæ—¥å¤§å¿«æ¨‚ ğŸ‚',
  24:'å¹³å®‰å¤œå¿«æ¨‚ ğŸ',
  25:'è–èª•å¿«æ¨‚ â¤ï¸'
};

const token=new URL(location.href).searchParams.get('token');
if(token!==SECRET){
  document.body.innerHTML='<div class="deny">âŒ æ²’æœ‰æ­£ç¢º tokenï¼Œç„¡æ³•ç€è¦½æ­¤æœˆæ›†ã€‚</div>';
}else{
  buildCalendar();
  // ä¿®æ­£åˆå§‹æ ¼å¤§å°
  window.addEventListener('load', ()=> {
    const g=document.querySelector('.grid');
    g.style.transform='scale(1.001)';
    setTimeout(()=>g.style.transform='scale(1)',100);
  });
}

function buildCalendar(){
  const container=document.getElementById('calendarContainer');
  const grid=document.createElement('div');
  grid.className='grid';
  container.appendChild(grid);

  const weekdays=['æ—¥','ä¸€','äºŒ','ä¸‰','å››','äº”','å…­'];
  weekdays.forEach((w,i)=>{
    const wd=document.createElement('div');
    wd.className='weekday'+(i===0||i===6?' weekend':'');
    wd.textContent=w;
    grid.appendChild(wd);
  });

  const y=2025,m=11;
  const first=new Date(y,m,1);
  const days=new Date(y,m+1,0).getDate();
  const start=first.getDay();

  for(let i=0;i<start;i++){
    const e=document.createElement('div');
    grid.appendChild(e);
  }

  for(let d=1;d<=days;d++){
    const cell=document.createElement('div');
    const date=new Date(y,m,d);
    const isWeekend=date.getDay()===0||date.getDay()===6;
    cell.className='day'+(isWeekend?' weekend':'');
    cell.textContent=d;
    cell.onclick=()=>openGift(d);
    grid.appendChild(cell);
  }
}

function openGift(d){
  document.getElementById('mTitle').textContent=`12/${d} ç¦®ç‰©`;
  document.getElementById('mText').textContent=gifts[d]||'é€™å¤©çš„ç¦®ç‰©é‚„æ²’è¨­å®š ğŸ„';
  document.getElementById('modal').style.display='flex';
}
function closeModal(){
  document.getElementById('modal').style.display='none';
}
</script>
</body>
</html>
